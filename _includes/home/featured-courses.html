{%- assign featured_courses = page.featured_courses  | split: ", " -%}

{%- assign item_count = featured_courses | size -%}
<link rel="stylesheet" href="{{ site.url }}/css/featured-courses.css?{{ site.time | date:'%s' }}">

<div class="section-featured-courses">
  <div class="cols">
    <ul class="list-featured-courses">

    {%- for featured in featured_courses -%}
    {%- assign artwork_png = site.data.courses[featured].course_ID | downcase | append: '.png' -%}
    {%- assign artwork_svg = site.data.courses[featured].course_ID | downcase | append: '.svg' -%}
    {%- assign artwork_path_png = site.url | append: "/img/course-artwork/png/"-%}
    {%- assign artwork_path_svg = site.url | append: "/img/course-artwork/svg/"-%}

    {%- assign instructor = site.data.courses[featured].instructor -%}
    {%- assign instructor_name = site.data.bios[instructor].name  -%}
    {%- assign instructor_title = site.data.bios[instructor].subtitle  -%}

    {%- assign topic = site.data.courses[featured].topic  -%}
    {%- assign url = site.data.courses[featured].url  -%}
    {%- assign title = site.data.courses[featured].title  -%}
    {%- assign description = site.data.courses[featured].short_description  -%}

    {%- if site.data.courses[featured].topic == "Career Skills" -%}
        {%- assign content_class = "career-skills" -%}
    {%- elsif site.data.courses[featured].topic == "Content Creation" -%}
        {%- assign content_class = "content-creation" -%}
    {%- elsif site.data.courses[featured].topic == "JavaScript" -%}
        {%- assign content_class = "development" -%}
    {%- elsif site.data.courses[featured].topic == "Prototyping" -%}
        {%- assign content_class = "user-experience" -%}
    {%- elsif site.data.courses[featured].topic == "Web Design & Development" -%}
        {%- assign content_class = "design-development" -%}
    {%- elsif site.data.courses[featured].topic == "User Experience" -%}
        {%- assign content_class = "user-experience" -%}
    {%- endif -%}

      <li>
        <div class="card featured-course {{ content_class }}">
          <div class="card-main equal-h">
            <header>
              <b class="course-type">{{ topic }}</b>
              <div class="mask">
                <a href="{{ url }}">
                  <img alt="{{ title }}" srcset="{{ artwork_svg | prepend: artwork_path_svg }}" src="{{ artwork_png | prepend: artwork_path_png }}" width="574" height="488" decoding="async" loading="lazy">
                </a>
              </div>
              <h2><a href="{{ url }}">{{ title }}</a></h2>
              <p>{{ description }}</p>
            </header>
          </div>
          <div class="card-footer">
            <div class="card-info">
              <dl class="instructor">
                <dt class="byline"><b>with {{ instructor_name }}</b></dt>
                <dd>{{ instructor_title }}</dd>
              </dl>
            </div>
            <div class="card-cta">
              <a class="gym-button" href="{{ url }}"><b>Learn More <span class="sr-only sr-only-focusable"> about {{ title }}</span></b></a>
            </div>
          </div>
        </div>
      </li>
      {%- endfor -%}
    </ul>

  </div>
  <div class="about-featured-courses">
    <div class="description">
      <p>Design a career you love with free online courses on web design and development, accessibility, UX, prototyping, content creation, and career skills.</p>
    </div>
    <div class="cta">
     <a class="gym-button" href="https://thegymnasium.com/courses"><b>View all Courses</b></a>
    </div>
  </div>
</div>

<!-- polyfills -->
<script async nomodule src="{{ site.url }}/js/polyfills/prefixfree.min.js"></script>
<script async nomodule src="{{ site.url }}/js/polyfills/grid-equal-height.js"></script>
