/* This file is intended to render CSS that we are serving up in the Gymnasium theme via the system-status include, and allows us using our SCSS variables */

@import "functions";
@import "mixins";
@import "variables";

/* --- Update dashboard course text color --- */

#dashboard-main.course-content .my-courses .course-item h1,
.my-courses .course-item header p {
  color: $gym-white;
}

/* --- Course Resources (Syllabus & Chapter Raw HTML blocks) --- */

.edx-block-resources {
  font-size: 16px !important;
  color: $gym-black;
}

.edx-block-resources header {
  font-size: 16px !important;
  padding-bottom: 0 !important;
  margin-bottom: 1em !important;
}

.edx-block-resources section {
  padding-top: 1.2em;
  border-top: 1px dashed $gym-gray;
  margin-top: 1.4em;
}

.edx-block-resources h2,
.edx-block-resources h3,
.edx-block-resources p {
  margin-top: 0;
  margin-bottom: 0 !important;
 }

.handouts .handouts-header,
.edx-block-resources h2 {
  font: 900 1.55em/1.15 $gym-font-stack !important;
  color: $gym-black !important;
  letter-spacing: 0.035rem !important;
}

.edx-block-resources h3 {
  font-size: 1.4em !important;
  line-height: 1.15 !important;
}

.handouts .handouts-header {
  text-transform: uppercase !important;
  margin-bottom: 1.2rem !important;
}

.edx-block-resources p {
  font: 1em/1.35 $gym-text-font-stack;
  margin-top: 0.5rem;
}

.handouts p,
.handouts dl div {
  margin-top: 1rem;
}

.handouts dt,
.handouts dd {
  line-height: 1.35;
}

.edx-block-resources ul {
  margin-top: 0 !important;
}

.edx-block-resources li {
  line-height: 1.35;
  margin-top: 1rem;
  margin-bottom: 0 !important;
}

/* ---
https://github.com/gymnasium/tracker/issues/129
--- */

#content .course-tabs a {
  font-family: $gym-font-stack;
  color: currentColor !important;
}

#content .course-tabs a b {
  color: currentColor !important;
  border-bottom: 1px solid currentColor !important;
}

#content .course-tabs .active b,
#content .course-tabs a:hover b,
#content .course-tabs a:focus b {
  color: currentColor !important;
  border-bottom: 2px solid currentColor !important;
}

/* ---
https://github.com/gymnasium/tracker/issues/81
--- */

/* syllabus / add single-column breakpoint fix */

@media (max-width: 62em) {

  #main .info-wrapper .updates {
    padding-bottom: 0;
    border-right: 0;
  }

  #main .info-wrapper .handouts {
    display: block;
    width: 100%;
    padding-bottom: 2em;
    border-top: 1px dashed $gym-gray;
  }

}

/* dashboard / update single-column layout style */

@media (max-width: 62em) {

  #dashboard-main #my-courses {
    border-right: 0;
  }

  #dashboard-main .profile-sidebar {
    border-top: 1px dashed $gym-gray;
  }

}

/* about / update sidebar style */

.course-about-sidebar .course-instructor {
  padding-top: 1.2em;
}

@media (max-width: 62em) {

  .course-about .course-about-overview {
    padding-right: 0;
    padding-bottom: 1.2em;
    border-right: 0;
    border-bottom: 1px dashed $gym-gray;
    margin-bottom: 1.2em;
  }

  .course-about .course-about-sidebar {
    padding: 0;
  }

}

/* ---
https://github.com/gymnasium/tracker/issues/107
https://github.com/gymnasium/tracker/issues/86
https://github.com/gymnasium/tracker/issues/85
--- */

/* update (text) link style */

main p > a:not([class]),
main li:not([class]) > a:not([class]),
.white-panel p > a:not(.btn),
.white-panel li:not([class]) > a:not(.btn),
.course-menu a:not(.btn),
main label a:not([class]),
.login-form a.forgot-password {
  line-height: inherit;
  color: currentColor !important;
  text-decoration: none;
  padding-bottom: 0.125rem;
  border-bottom: 1px solid currentColor !important;
}

main p > a:not([class]):hover,
main p > a:not([class]):focus,
main p > a:not([class]):active,
main li:not([class]) > a:not([class]):hover,
main li:not([class]) > a:not([class]):focus,
main li:not([class]) > a:not([class]):active,
.white-panel p > a:not(.btn):hover,
.white-panel p > a:not(.btn):focus,
.white-panel p > a:not(.btn):active,
.white-panel li:not([class]) > a:not(.btn):hover,
.white-panel li:not([class]) > a:not(.btn):focus,
.white-panel li:not([class]) > a:not(.btn):active,
.course-menu a:not(.btn):hover,
.course-menu a:not(.btn):focus,
.course-menu a:not(.btn):active,
main label a:not([class]):hover,
main label a:not([class]):focus,
main label a:not([class]):active,
.login-form a.forgot-password:hover,
.login-form a.forgot-password:focus,
.login-form a.forgot-password:active {
  text-decoration: none;
  border-bottom-width: 2px !important;
  margin-bottom: -0.125rem;
}

/*
https://github.com/gymnasium/tracker/issues/143
*/

#main {
  .problems-wrapper {
    font-size: 16px;
  }

  .problem-header {
    font: 900 2.25em $gym-font-stack;
  }

  .problem-progress {
    font: bold 1em $gym-text-font-stack;
    margin-bottom: 5rem;
  }

  .problem-progress + * + main .message:not([hidden]),
  .problem .solution-span > span {
    margin-top: -2rem;
    margin-bottom: 5rem;
  }

  .problem .response-fieldset-legend {
    font-size: inherit;
    border-bottom: 0;
  }

  .choicegroup legend {
    margin-bottom: 1rem;
  }

  .problem .response-fieldset-legend img {
    box-sizing: border-box;
    width: auto;
    max-width: 100%;
    height: auto;
    padding: 1rem;
    border: 1px solid #999;
    margin-top: 1.6rem;
  }

  .problem .choicegroup_correct:before,
  .problem .choicetextgroup_correct:before {
    margin-top: 4px;
  }

  .problem .choicegroup_incorrect:before,
  .problem .choicetextgroup_incorrect:before {
    margin-top: -3px;
  }

  .message h2 {
    text-transform: uppercase;
  }

  .message p a:not(.btn),
  .message  p a:visited:not(.btn) {
    font: inherit;
  }

  /* pre-hawthorn markup patterns */

  .problem strong + .wrapper-problem-response {
    margin-top: 1rem;
  }

  .problem strong + pre {
    margin-top: 1.6rem;
  }
}



/*
https://github.com/gymnasium/tracker/issues/127
*/

/* update password reset form style */

.login-register,
.login-register .form-type {
  min-width: none;
}

#passwordreset-form {
  padding: 1.8em 1.8em 2.2em;
}

#passwordreset-form h2.section-title {
  font: 900 2.571428571428571em/1 $gym-font-stack;
  color: #333;
  letter-spacing: 0.01em;
  word-spacing: 0.04em;
  margin-top: 0;
}

#passwordreset-form h2.lines {
  text-align: left;
}

#passwordreset-form h2.lines::after {
  display: none;
}

#passwordreset-form h2.lines .text {
  position: static;
  top: 0;
  z-index: auto;
  font-size: inherit;
  background: none;
  padding: 0;
}

#passwordreset-form .paragon__invalid-feedback {
  font-size: unset;
}

#passwordreset-form .action-primary {
  margin-top: 0;
}

#passwordreset-form .action-primary {
  width: 100%;
  font: bold 1.5em/1 $gym-font-stack;
  background-color: #f8971d;
  padding: 1em;
  border-radius: .125em;
}

#passwordreset-form .action-primary:hover,
#passwordreset-form .action-primary:focus,
#passwordreset-form .action-primary:active {
  background-color: #a6a6a6;
}

/* update font-family for catalog navigation */

#gym-catalog .course-menu a:focus,
#gym-catalog .course-menu a:active {
  font-family: $gym-font-stack;
}

/*--
https://github.com/gymnasium/tracker/issues/84
--*/

/* update color contrast ratio */

main .how-gymnasium-works p {
  color: #666;
}

/* ---
https://github.com/gymnasium/tracker/issues/77
--- */

.cookiebanner {
  border-top: 1px dashed #666;
  padding-top: 1rem !important;
  padding-bottom: 1rem !important;
}

@media (max-width: 75em) {

  .cookiebanner {
    text-align: left !important;
  }

}

.cookiebanner span {
  color: $gym-white;
}

.cookiebanner a {
  color: $gym-white !important;
  padding-bottom: 0.125rem;
  border-bottom: 1px solid currentColor !important;
  margin-bottom: -0.125rem;
}

.cookiebanner a:hover,
.cookiebanner a:focus,
.cookiebanner a:active {
  border-bottom-width: 2px !important;
}

.cookiebanner-close {
  color: $gym-orange;
}

/* ---
https://github.com/gymnasium/tracker/issues/54
--- */

#homework-materials {
  font-size: 16px;
  color: $gym-black;
  padding-top: 1em;
  padding-bottom: 1em;
}

#homework-materials h2 {
  font-weight: 900;
  font-size: 1.2em;
  font-family: $gym-font-stack;
  color: $gym-black;
  letter-spacing: .05rem;
  margin-top: 0;
  margin-bottom: 1.2em;
}

#homework-materials p {
  margin-top: 1em;
  margin-bottom: 0;
}

.handouts a,
.edx-block-resources a,
#homework-materials a,
.profile-sidebar a {
  color: inherit !important;
  text-decoration: none;
  padding-bottom: 0.125rem;
  border-bottom: 1px solid $gym-black !important;
  margin-bottom: -0.125rem;
}

.handouts a:hover,
.handouts a:focus,
.handouts a:active,
.edx-block-resources a:hover,
.edx-block-resources a:focus,
.edx-block-resources a:active,
#homework-materials a:hover,
#homework-materials a:focus,
#homework-materials a:active,
.profile-sidebar a:hover,
.profile-sidebar a:focus,
.profile-sidebar a:active {
  border-bottom-width: 2px !important;
}

/* ---
https://github.com/gymnasium/tracker/issues/47
--- */

.courseware-bookmarks-button {
  padding-left: 30px;
}

.course-navigation .button-chapter:only-of-type {
  -moz-user-select: none;
  -webkit-user-select: none;
  -ms-user-select: none;
  user-select: none;
  cursor: text;
}

.course-navigation .button-chapter:only-of-type:focus {
  outline: none;
}

.course-navigation .button-chapter:only-of-type .icon {
  display: none;
}

.course-navigation .button-chapter:only-of-type .group-heading {
  line-height: 1.25 !important;
  letter-spacing: 1px;
  text-transform: uppercase;
  margin-right: 14px;
}

/* ---
https://github.com/gymnasium/tracker/issues/43
--- */

nav.discussion {
  margin: 0 !important;
}

nav.discussion .new-post-btn {
  font-size: 1em;
  font-family: $gym-font-stack;
  color: $gym-white;
  background-color: #f8971d;
  padding: .75em 1em;
  border: 0;
}

/* ---
Courseware misc. styling for:
About, Info, Quizzes, and Final Exam pages
--- */

#course-exam-instructions,
.course-quiz-reminder {
  margin-bottom: 5rem;
}

.course-lessons:before {
  content: "üé¨" "\00a0";
}

.course-quizzes:before {
  content: "ü§ì" "\00a0";
}

.course-forum:before {
  content: "üì£" "\00a0";
}

.course-exam:before {
  content: "üìù" "\00a0";
}

.course-credential:before {
  content: "üéâ" "\00a0";
}

.course-reminder:before {
  content: "üëã" "\00a0";
}

/* Undo outline lesson/chapter title case */

.course-overview .course-about h3,
#course-outline h3 {
  text-transform: none;
}

/* ---
https://github.com/gymnasium/tracker/issues/40
--- */

.sidebar #jobs-microservice-frame {
  min-width: 116% !important;
  background-color: #444;
  padding: 1.4em;
  margin-top: -1.4em;
  margin-left: -1.4em;
}
