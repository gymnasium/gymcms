/* --- This file is intended to render CSS that we are serving up in the Gymnasium theme via the system-status include, and allows us using our SCSS variables --- */

@import "functions";
@import "mixins";
@import "variables";

/* --- Migrate logistration css out of theme (see https://github.com/gymnasium/tracker/issues/192) --- */
.login-register,
#login-and-registration-container {
  background: transparent;
}

.login-register {
  max-width: none;
}

#login,
#register {
  padding: 0 1.8em 2.2em;
}

.login-providers h1 + button.login-provider {
  margin: 1.4em 0 1em;
}

.login-providers .section-title + button.login-provider {
  margin-top: 0.6em;
}

main li:not([class]) > a:not([class]):active,
main label a:not([class]):hover,
main label a:not([class]):focus,
main label a:not([class]):active {
  text-decoration: none;
  border-bottom-width: 2px !important;
  margin-bottom: -0.125rem;
}

.login-form {
  a.forgot-password {
    &:hover,
    &:focus,
    &:active {
      text-decoration: none;
      border-bottom-width: 2px !important;
      margin-bottom: -0.125rem;
    }
  }
}

.login-register {
  h1 {
    margin-top: 0;
  }

  div.section-title.lines h2 {
    font: bold 1.8em/1.15 $gym-font-stack;
    font-family: $gym-font-stack;
  }

  form {
    background: white;
  }
  /*** linkedin Login button styles ***/

  p.action-label {
    font: normal 1.6em/1.4 $gym-font-stack;
    margin-bottom: 1em;
  }

  button.gym-button.button-oa2-linkedin-oauth2.login-provider.login-oa2-linkedin-oauth2,
  button.gym-button.button-oa2-linkedin-oauth2.login-provider.register-oa2-linkedin-oauth2 {
    transform: scale(1.5, 1.5);
    border-color: $linked-in-blue;

    .icon.fa.fa-linkedin {
      border-radius: 1px;
      margin: 0;
    }

    span {
      font-family: $gym-text-font-stack;
    }
  }

  .form-field {

    margin-top: 0.6em;
    margin-bottom: 1.4em;

    label,
    input {
      margin-bottom: 0.6em;
    }
  
    input + .tip-input {
      margin-top: 0.6em;
    }

    label {
      font-size: 1.1em;
      text-transform: uppercase;
      font-family: $gym-font-stack;
      font-weight: bold;

      &[for="register-terms_of_service"] {
        margin: 0;
      }

      &.focus-out {
        position: static;
        padding-top: 0;
        padding-left: 0;
        opacity: 1;
        z-index: auto;
      }
    }

    input {
      height: auto;
      font-size: 1em;
      padding: 1em;
      border: 1px solid $gym-gray;
      border-bottom: 2px solid $gym-orange;
      margin-bottom: 0.6em;
    }

    .tip {
      color: $gym-dark-gray;
      display: inline-block;

      &-input {
        font: normal 1em/1.15 $gym-text-font-stack;
      }
    }
  }

  .logistration-bottom {
    padding-bottom: 2em;
    padding-left: 1.8em;
    padding-right: 1.8em;
    margin-top: 1.2em;

    h2 {
      font-family: $gym-font-stack;
      padding: 0.75em 0;
      font-size: 2.2em;
      letter-spacing: 0.01em;
      text-align: left;
      padding: 0 0 0.4em;

      .text {
        text-transform: uppercase;
      }
    }
  }

  .logistration-button {
    text-transform: capitalize;
    padding: 1em;
    font-size: 1.5em;
    font-weight: 900;
  }

  form {
    background: white;
  }

  .note {
    font-weight: bold;
    color: $gym-black;
  }

  .toggle-form {
    font-size: 14px;
  }

  .login-remember {
    line-height: 1.15;
  }

  .checkbox-remember {
    margin: 1.2em 0 0.6em;
  }

  .checkbox-terms_of_service {
    margin: 1em 0;
  }

  .status.account-activation,
  .status.account-activation.success,
  .status.account-activation.success,
  .financial-assistance-wrapper
    .financial-assistance-form
    .status.account-activation.success {
    background-color: $gym-orange !important;
    border-color: $gym-orange;
    color: $gym-white;
  }
}

#register .form-field input {
  margin-bottom: 0;
}

.register.container,
.login.container {
  background-color: white;
  border: 1px solid $gym-gray;
  margin-top: 1.8em;
  border-radius: 2px;

  #field-password .tip.tip-input {
    margin-top: -0.3em;
  }

  .sign-up {
    border-right: 1px dashed $gym-gray;
    padding: 1.6em;
  }

  .additional-information {
    padding: 1.6em;
  }

  .instructions {
    padding-bottom: 1.8em;
    border-bottom: 1px solid #ddd;
    margin-bottom: 1.8em;

    p {
      font-family: $gym-font-stack;
      font-size: 1.6em;
      line-height: 1.5;
      letter-spacing: 0.01em;
      word-spacing: 0.02em;
    }
  }

  h2 {
    margin-bottom: 1.2em;
    font: 900 1em/1.3 $gym-font-stack;
  }

  form {
    .field {
      .tip {
        font-size: 1em;
      }
    }
  }

  #market {
    width: 150px;
  }

  .err-message {
    background: #f2dede;
    display: none;
    padding: 1.8em;
    border: 1px solid $error-color;
    border-radius: 0.12em;
    margin-bottom: 1em;

    &.is-shown {
      display: block;
    }

    h3 {
      color: $error-color;
      margin-top: 0;
      margin-bottom: -0.2em;
    }
  
    ul {
      margin-top: 1.4em;
      color: $error-color;
    }
  
    li {
      font: bold 1em/1.5 $gym-text-font-stack;
      color: $error-color;
      letter-spacing: 0.01em;
      margin-top: 1em;
    }
  }
}

.login {
  nav {
    a:hover {
      border-bottom: none;
    }
  }

  a:hover {
    border-bottom: 1px solid $gym-orange;
  }
}

body,
body.login,
body.register {
  ul.list-input,
  ol.list-input {
    label {
      font: 1em/1.2 $gym-font-stack;
      color: $gym-black;
      letter-spacing: 0.03em;
      word-spacing: 0.05em;
      text-transform: uppercase;
    }

    input {
      font: 1em/1 $gym-text-font-stack;
      width: 100%;
      padding-top: 0.6em;
      padding-bottom: 0.6em;
      border: 0;
      border-bottom: 0.2em solid $gym-orange;
      margin-top: 0.4em;
      margin-bottom: 0.4em;
      -moz-box-sizing: border-box;
      -webkit-box-sizing: border-box;
      box-sizing: border-box;
      box-shadow: none;
      background: none;
    }
  }
}

body {
  ul.list-input,
  ol.list-input,
  &.login ul.list-input,
  &.login ol.list-input,
  &.register ul.list-input,
  &.register ol.list-input,
  .login form,
  .register form,
  .passwordreset form,
  #forgot-password-modal #password-reset form {
    .field.is-focused {
      color: $gym-orange;

      input,
      label,
      span,
      span.tip,
      .tip {
        color: $gym-orange;
      }

      input:focus {
        outline-color: $gym-orange;
      }
    }
  }
}


/* --- Update dashboard course text color --- */

#dashboard-main.course-content .my-courses .course-item h1,
.my-courses .course-item header p {
  color: $gym-white;
}

/* --- Course Resources (Syllabus & Chapter Raw HTML blocks) --- */

.edx-block-resources {
  font-size: 16px !important;
  color: $gym-black;

  header {
    font-size: 16px !important;
    padding-bottom: 0 !important;
    margin-bottom: 1em !important;
  }

  section {
    padding-top: 1.2em;
    border-top: 1px dashed $gym-gray;
    margin-top: 1.4em;
  }

  h2, h3, p {
    margin-top: 0;
    margin-bottom: 0 !important;
  }

  h3 {
    font-size: 1.4em !important;
    line-height: 1.15 !important;
  }

  p {
    font: 1em/1.35 $gym-text-font-stack;
    margin-top: 0.5rem;
  }

  ul {
    margin-top: 0 !important;
  }
  
  li {
    line-height: 1.35;
    margin-top: 1rem;
    margin-bottom: 0 !important;
  }
}

.handouts .handouts-header,
.edx-block-resources h2 {
  font: 900 1.55em/1.15 $gym-font-stack !important;
  color: $gym-black !important;
  letter-spacing: 0.035rem !important;
}

.handouts .handouts-header {
  text-transform: uppercase !important;
  margin-bottom: 1.2rem !important;
}

.handouts p,
.handouts dl div {
  margin-top: 1rem;
}

.handouts dt,
.handouts dd {
  line-height: 1.35;
}

/* ---
https://github.com/gymnasium/tracker/issues/129
--- */

#content .course-tabs a {
  font-family: $gym-font-stack;
  color: currentColor !important;
}

#content .course-tabs a b {
  color: currentColor !important;
  border-bottom: 1px solid currentColor !important;
}

#content .course-tabs .active b,
#content .course-tabs a:hover b,
#content .course-tabs a:focus b {
  color: currentColor !important;
  border-bottom: 2px solid currentColor !important;
}

/* ---
https://github.com/gymnasium/tracker/issues/81
--- */

/* syllabus / add single-column breakpoint fix */

@media (max-width: 62em) {

  #main .info-wrapper .updates {
    padding-bottom: 0;
    border-right: 0;
  }

  #main .info-wrapper .handouts {
    display: block;
    width: 100%;
    padding-bottom: 2em;
    border-top: 1px dashed $gym-gray;
  }

}

/* dashboard / update single-column layout style */

@media (max-width: 62em) {

  #dashboard-main #my-courses {
    border-right: 0;
  }

  #dashboard-main .profile-sidebar {
    border-top: 1px dashed $gym-gray;
  }

}

/* about / update sidebar style */

.course-about-sidebar .course-instructor {
  padding-top: 1.2em;
}

@media (max-width: 62em) {

  .course-about .course-about-overview {
    padding-right: 0;
    padding-bottom: 1.2em;
    border-right: 0;
    border-bottom: 1px dashed $gym-gray;
    margin-bottom: 1.2em;
  }

  .course-about .course-about-sidebar {
    padding: 0;
  }

}

/* ---
https://github.com/gymnasium/tracker/issues/107
https://github.com/gymnasium/tracker/issues/86
https://github.com/gymnasium/tracker/issues/85
--- */

/* update (text) link style */

main p > a:not([class]),
main li:not([class]) > a:not([class]),
.white-panel p > a:not(.btn),
.white-panel li:not([class]) > a:not(.btn),
.course-menu a:not(.btn),
main label a:not([class]),
.login-form a.forgot-password {
  line-height: inherit;
  color: currentColor !important;
  text-decoration: none;
  padding-bottom: 0.125rem;
  border-bottom: 1px solid currentColor !important;
}

main p > a:not([class]):hover,
main p > a:not([class]):focus,
main p > a:not([class]):active,
main li:not([class]) > a:not([class]):hover,
main li:not([class]) > a:not([class]):focus,
main li:not([class]) > a:not([class]):active,
.white-panel p > a:not(.btn):hover,
.white-panel p > a:not(.btn):focus,
.white-panel p > a:not(.btn):active,
.white-panel li:not([class]) > a:not(.btn):hover,
.white-panel li:not([class]) > a:not(.btn):focus,
.white-panel li:not([class]) > a:not(.btn):active,
.course-menu a:not(.btn):hover,
.course-menu a:not(.btn):focus,
.course-menu a:not(.btn):active,
main label a:not([class]):hover,
main label a:not([class]):focus,
main label a:not([class]):active,
.login-form a.forgot-password:hover,
.login-form a.forgot-password:focus,
.login-form a.forgot-password:active {
  text-decoration: none;
  border-bottom-width: 2px !important;
  margin-bottom: -0.125rem;
}

/*
https://github.com/gymnasium/tracker/issues/143
*/

#main {
  .problems-wrapper {
    font-size: 16px;
  }

  .problem-header {
    font: 900 2.25em $gym-font-stack;
  }

  .problem-progress {
    font: bold 1em $gym-text-font-stack;
    margin-bottom: 5rem;
  }

  .problem-progress + * + main .message:not([hidden]),
  .problem .solution-span > span {
    margin-top: -2rem;
    margin-bottom: 5rem;
  }

  .problem .response-fieldset-legend {
    font-size: inherit;
    border-bottom: 0;
  }

  .choicegroup legend {
    margin-bottom: 1rem;
  }

  .problem .response-fieldset-legend img {
    box-sizing: border-box;
    width: auto;
    max-width: 100%;
    height: auto;
    padding: 1rem;
    border: 1px solid #999;
    margin-top: 1.6rem;
  }

  .problem .choicegroup_correct:before,
  .problem .choicetextgroup_correct:before {
    margin-top: 4px;
  }

  .problem .choicegroup_incorrect:before,
  .problem .choicetextgroup_incorrect:before {
    margin-top: -3px;
  }

  .message h2 {
    text-transform: uppercase;
  }

  .message p a:not(.btn),
  .message  p a:visited:not(.btn) {
    font: inherit;
  }

  /* pre-hawthorn markup patterns */

  .problem strong + .wrapper-problem-response {
    margin-top: 1rem;
  }

  .problem strong + pre {
    margin-top: 1.6rem;
  }
}

/*
https://github.com/gymnasium/tracker/issues/127
*/

/* update password reset form style */

.login-register,
.login-register .form-type {
  min-width: none;
}

#password-reset {
  padding: 1.8em 1.8em 2.2em;
  border: 1px solid $gym-gray;
}

#password-reset > br {
  display: none;
}

#password-reset h2.section-title {
  font: 900 2.571428571428571em/1 $gym-font-stack;
  color: $gym-dark-gray-2;
  letter-spacing: 0.01em;
  word-spacing: 0.04em;
  margin-top: 0;
}

#password-reset h2.lines {
  text-align: left;
}

#password-reset h2.lines::after {
  display: none;
}

#password-reset h2.lines .text {
  position: static;
  top: 0;
  z-index: auto;
  font-size: inherit;
  background: none;
  padding: 0;
}

#password-reset .paragon__invalid-feedback {
  font-size: unset;
}

#password-reset .action-primary {
  margin-top: 0;
}

#password-reset .action-primary {
  width: 100%;
  font: bold 1.5em/1 $gym-font-stack;
  background-color: $gym-orange;
  padding: 1em;
  border-radius: .125em;
}

#password-reset .action-primary:hover,
#password-reset .action-primary:focus,
#password-reset .action-primary:active {
  background-color: $gym-light-gray;
}

/* update font-family for catalog navigation */

#gym-catalog .course-menu a:focus,
#gym-catalog .course-menu a:active {
  font-family: $gym-font-stack;
}

/* ---
https://github.com/gymnasium/tracker/issues/84
--- */

/* update color contrast ratio */

main .how-gymnasium-works p {
  color: #666;
}

/* ---
https://github.com/gymnasium/tracker/issues/77
--- */

.cookiebanner {
  border-top: 1px dashed #666;
  padding-top: 1rem !important;
  padding-bottom: 1rem !important;
}

@media (max-width: 75em) {

  .cookiebanner {
    text-align: left !important;
  }

}

.cookiebanner span {
  color: $gym-white;
}

.cookiebanner a {
  color: $gym-white !important;
  padding-bottom: 0.125rem;
  border-bottom: 1px solid currentColor !important;
  margin-bottom: -0.125rem;
}

.cookiebanner a:hover,
.cookiebanner a:focus,
.cookiebanner a:active {
  border-bottom-width: 2px !important;
}

.cookiebanner-close {
  color: $gym-orange;
}

/* ---
https://github.com/gymnasium/tracker/issues/54
--- */

#homework-materials {
  font-size: 16px;
  color: $gym-black;
  padding-top: 1em;
  padding-bottom: 1em;
}

#homework-materials h2 {
  font-weight: 900;
  font-size: 1.2em;
  font-family: $gym-font-stack;
  color: $gym-black;
  letter-spacing: .05rem;
  margin-top: 0;
  margin-bottom: 1.2em;
}

#homework-materials p {
  margin-top: 1em;
  margin-bottom: 0;
}

.handouts a,
.edx-block-resources a,
#homework-materials a,
.profile-sidebar a {
  color: inherit !important;
  text-decoration: none;
  padding-bottom: 0.125rem;
  border-bottom: 1px solid $gym-black !important;
  margin-bottom: -0.125rem;
}

.handouts a:hover,
.handouts a:focus,
.handouts a:active,
.edx-block-resources a:hover,
.edx-block-resources a:focus,
.edx-block-resources a:active,
#homework-materials a:hover,
#homework-materials a:focus,
#homework-materials a:active,
.profile-sidebar a:hover,
.profile-sidebar a:focus,
.profile-sidebar a:active {
  border-bottom-width: 2px !important;
}

/* ---
https://github.com/gymnasium/tracker/issues/47
--- */

.courseware-bookmarks-button {
  padding-left: 30px;
}

.course-navigation .button-chapter:only-of-type {
  -moz-user-select: none;
  -webkit-user-select: none;
  -ms-user-select: none;
  user-select: none;
  cursor: text;
}

.course-navigation .button-chapter:only-of-type:focus {
  outline: none;
}

.course-navigation .button-chapter:only-of-type .icon {
  display: none;
}

.course-navigation .button-chapter:only-of-type .group-heading {
  line-height: 1.25 !important;
  letter-spacing: 1px;
  text-transform: uppercase;
  margin-right: 14px;
}

/* ---
https://github.com/gymnasium/tracker/issues/43
--- */

nav.discussion {
  margin: 0 !important;
}

nav.discussion .new-post-btn {
  font-size: 1em;
  font-family: $gym-font-stack;
  color: $gym-white;
  background-color: $gym-orange;
  padding: .75em 1em;
  border: 0;
}

/* ---
Courseware misc. styling for:
About, Info, Quizzes, and Final Exam pages
--- */

#course-exam-instructions,
.course-quiz-reminder {
  margin-bottom: 5rem;
}

.course-lessons:before {
  content: "🎬" "\00a0";
}

.course-quizzes:before {
  content: "🤓" "\00a0";
}

.course-forum:before {
  content: "📣" "\00a0";
}

.course-exam:before {
  content: "📝" "\00a0";
}

.course-credential:before {
  content: "🎉" "\00a0";
}

.course-reminder:before {
  content: "👋" "\00a0";
}

/* Undo outline lesson/chapter title case */

.course-overview .course-about h3,
#course-outline h3 {
  text-transform: none;
}

/* ---
https://github.com/gymnasium/tracker/issues/40
--- */

.sidebar #jobs-microservice-frame {
  min-width: 116% !important;
  background-color: $gym-dark-gray;
  padding: 1.4em;
  margin-top: -1.4em;
  margin-left: -1.4em;
}
